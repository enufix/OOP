\AtBeginSection[]
{
  \frame
  {
    \frametitle{Contents}
    \tableofcontents[currentsection,hideallsubsections]
  }
}

\AtBeginSubsection[]
{
  \frame
  {
    \frametitle{Contents}
    \tableofcontents[sectionstyle=show/hide,subsectionstyle=show/shaded/hide]
  }
}
